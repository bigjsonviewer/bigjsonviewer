{
  "root": true,
  "extends": [
    "eslint:recommended",
    "prettier",
    "plugin:import/recommended",
    "plugin:import/typescript",
    "next/core-web-vitals"
  ],
  "env": {
    "es2021": true
  },
  "rules": {
    "react/display-name": "off",
    "import/newline-after-import": "warn",
    "import/no-self-import": "error",
    "import/no-useless-path-segments": ["error", { "noUselessIndex": true }],
    "import/no-mutable-exports": "error",
    "import/no-absolute-path": "error",
    "import/no-relative-packages": "error",
    "import/no-internal-modules": ["error", { "forbid": ["lib/**/src/*"] }],
    "import/no-restricted-paths": [
      "error",
      {
        "zones": [
          { "target": "lib", "from": "app" },
          { "target": "lib", "from": "pages" },
          { "target": "lib", "from": "components" },
          { "target": "pages/api", "from": "components" },
          { "target": "app/**/api", "from": "components" },
          {
            "target": "components",
            "from": "app",
            "message": "components/ folder contains general components, so therefore should not import from the page-specific app/ folder."
          }
        ]
      }
    ],
    "@typescript-eslint/no-unused-vars": [
      "error",
      { "argsIgnorePattern": "^_" }
    ]
  },
  "overrides": [
    {
      "files": ["**/*.ts?(x)"],
      "plugins": [
        "@typescript-eslint",
        "@typescript-eslint/eslint-plugin",
        "eslint-plugin-tsdoc"
      ],
      "extends": [
        "plugin:@typescript-eslint/recommended",
        "plugin:@typescript-eslint/recommended-requiring-type-checking"
      ],
      "parserOptions": {
        "project": ["./tsconfig.json"]
      },
      "rules": {
        "tsdoc/syntax": "warn",
        "@typescript-eslint/no-empty-interface": "off",
        "@typescript-eslint/no-unused-vars": [
          "error",
          { "argsIgnorePattern": "^_$", "varsIgnorePattern": "^_$" }
        ]
      }
    },
    {
      "files": ["**/+(*.)+(spec|test).[jt]s?(x)"],
      "excludedFiles": ["tests/cypress/**/*"],
      "plugins": ["jest", "testing-library"],
      "extends": [
        "plugin:jest/recommended",
        "plugin:jest/style",
        "plugin:testing-library/react"
      ],
      "rules": {
        "tsdoc/syntax": "off"
      },
      "env": {
        "jest/globals": true
      }
    },
    {
      "files": ["tests/cypress/**/*.[jt]s?(x)"],
      "plugins": ["cypress", "testing-library"],
      "extends": ["plugin:cypress/recommended", "plugin:testing-library/dom"],
      // https://github.com/testing-library/cypress-testing-library/blob/main/cypress/.eslintrc
      "rules": {
        "testing-library/await-async-query": "off",
        "testing-library/prefer-screen-queries": "off"
      },
      "env": {
        "cypress/globals": true
      }
    }
  ]
}
